openapi: 3.0.3
info:
    title: HiveMQ Apiary Public API 1.0
    description: |-
        TBD
    contact:
        email: support@hivemq.com
    license:
        name: TBD - Do we have any license?
    version: 1.0.11
externalDocs:
    description: HiveMQ documentation
    url: http://hivemq.com
tags:
    - name: MQTT Credentials
      description: Manage MQTT credentials
      externalDocs:
          description: Find out more
          url: http://hivemq.com
paths:
    /api/v2/orgs/{orgId}/clusters/{hiveId}/mqtt/credentials/username/{username}:
        get:
            tags:
                - MQTT Credentials
            summary: Get MQTT credentials by username
            operationId: getCredentials
            parameters:
                - name: orgId
                  in: path
                  description: Organisation ID
                  required: true
                  schema:
                      type: string
                - name: hiveId
                  in: path
                  required: true
                  schema:
                      type: string
                - name: username
                  in: path
                  required: true
                  schema:
                      type: string
            responses:
                200:
                    description: successful operation
                    content:
                        application/json:
                            schema:
                                $ref: "#/components/schemas/CredentialsListResponse"
                400:
                    description: Missing parameter or otherwise incorrect request
                404:
                    description: Either Org, hiveId or username do not exist

security:
  - bearerAuth: [ ]
components:
    securitySchemes:
        bearerAuth:
            type: http
            scheme: bearer
            bearerFormat: JWT
    schemas:
        CredentialsListResponse:
            type: object
            properties:
                credentials:
                    type: array
                    items:
                        $ref: '#/components/schemas/CredentialsResponse'
        UserInfo:
            type: object
            properties:
                username:
                    type: string
                role:
                    type: array
                    items:
                        type: string

        CredentialsResponse:
            type: object
            properties:
                UserInfo:
                    $ref: '#/components/schemas/UserInfo'
